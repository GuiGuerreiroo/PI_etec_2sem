<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>KITS</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../style/kits.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>

<body class="body" onload="loadKits()">

    <div class="page-frame container py-4">
        <header class="header text-center">
            <nav class="navbar d-flex flex-wrap justify-content-center align-items-center gap-4 gap-lg-5 my-4">
                <div class="nav-item" onclick="location.href='../pages/edit_material.html'">
                    <svg viewBox="0 0 24 24">
                        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 
                     2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 
                     16H5V9h14z" />
                    </svg>
                    <span>RESERVAS</span>
                </div>
                <div class="nav-item" onclick="location.href='../pages/reservation.html'">
                    <svg viewBox="0 0 24 24">
                        <path d="M19 4h-1V2h-2v2H8V2H6v2H5a2 
                     2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v-2H5V9h14v3h2V6a2 
                     2 0 0 0-2-2zm4 10h-3v-3h-2v3h-3v2h3v3h2v-3h3z" />
                    </svg>
                    <span>AGENDAMENTO</span>
                </div>
                <div class="nav-item" onclick="location.href='../pages/kits.html'">
                    <svg viewBox="0 0 24 24">
                        <path d="M6 2v6l5 9v5h2v-5l5-9V2H6zm2 
                     2h8v3.586l-4 7.2-4-7.2z" />
                    </svg>
                    <span>KITS</span>
                </div>
            </nav>
            <h1 class="title">KITS</h1>
            <div class="title-bar d-flex justify-content-center align-items-center gap-2 mt-3">
                <div class="title-bar-line"></div>
                <div class="title-bar-knob"></div>
                <div class="title-bar-line"></div>
            </div>
        </header>
        <main class="panel mt-4">
            <div id="kits-container" class="cards-grid row g-4 justify-content-start"></div>
        </main>

    </div>
    </div>
    <div class="modal fade" id="novoKitModal" tabindex="-1" aria-labelledby="novoKitModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content form-modal-content">
                <div class="modal-header">
                    <h3 class="modal-title fs-5" id="novoKitModalLabel">Cadastre seu Kit</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <form id="itemForm">
                        <label for="nome">Nome :</label>
                        <input type="text" id="nome" name="nome" placeholder="Digite o nome para seu Kit" required>

                        <label>Materiais :</label>
                        <div class="input-group mb-2">
                            <select class="form-select" id="addKitMaterialSelect">
                                <option selected disabled value="">Escolha seus materiais...</option>
                            </select>
                            <button class="btn form-btn" style="margin: 0; border-radius: 0 6px 6px 0;" type="button" id="addKitMaterialBtn">Adicionar</button>
                        </div>
                        <div id="addKitMaterialsList" class="mb-3" style="max-height: 200px; overflow-y: auto; border-radius: 6px; padding: 10px;">
                            <!-- Lista de materiais será inserida aqui via JS -->
                        </div>

                        <button type="submit" class="btn form-btn mt-3">Criar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="editKitModal" tabindex="-1" aria-labelledby="editKitModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content form-modal-content">
                <div class="modal-header">
                    <h3 class="modal-title fs-5" id="editKitModalLabel">Editar Kit</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <form id="editItemForm">
                        <input type="hidden" id="editKitId">
                        <label for="editNome">Nome :</label>
                        <input type="text" id="editNome" name="nome" placeholder="Digite o nome para seu Kit" required>

                        <label>Materiais :</label>
                        <div class="input-group mb-2">
                            <select class="form-select" id="newMaterialSelect">
                                <option selected disabled value="">Escolha seus materiais...</option>
                            </select>
                            <button class="btn form-btn" style="margin: 0; border-radius: 0 6px 6px 0;" type="button" id="addMaterialBtn">Adicionar</button>
                        </div>
                        <div id="editMaterialsList" class="mb-3" style="max-height: 200px; overflow-y: auto; border-radius: 6px; padding: 10px;">
                            <!-- Lista de materiais será inserida aqui via JS -->
                        </div>

                        <button type="submit" class="btn form-btn mt-3">Salvar</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div vw class="enabled">
        <div vw-access-button class="active"></div>
        <div vw-plugin-wrapper>
        <div class="vw-plugin-top-wrapper"></div>
        </div>
    </div>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="../scripts/reservation.js" type="module"></script>
    <script>
        new window.VLibras.Widget('https://vlibras.gov.br/app')
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../scripts/kits.js"></script>
    <script src="../api/kit/create_kit.js"></script>
    <script src="../api/kit/update_kit.js"></script>
    <script src="../api/material/get_all_materials.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="../api/kit/get_all_kits.js"></script>
    <script src="https://app.embed.im/accessibility.js" defer></script>
</body>

</html>